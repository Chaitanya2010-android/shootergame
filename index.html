<!DOCTYPE html>
<html>
<head>
  <title>3D Shooter</title>
  <style>
    body { margin: 0; overflow: hidden; }
    canvas { display: block; }
  </style>
</head>
<body>
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
<script>
let scene = new THREE.Scene();
let camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
let renderer = new THREE.WebGLRenderer();
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

// Player (green cube)
let playerGeometry = new THREE.BoxGeometry(1,1,1);
let playerMaterial = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
let player = new THREE.Mesh(playerGeometry, playerMaterial);
scene.add(player);
player.position.z = 5;

// Enemies
let enemies = [];
function spawnEnemy() {
  let geometry = new THREE.BoxGeometry(1,1,1);
  let material = new THREE.MeshBasicMaterial({ color: 0xff0000 });
  let enemy = new THREE.Mesh(geometry, material);
  enemy.position.set(Math.random()*10-5, Math.random()*10-5, -20);
  scene.add(enemy);
  enemies.push(enemy);
}

// Bullets
let bullets = [];
function shootBullet() {
  let geometry = new THREE.SphereGeometry(0.1, 8, 8);
  let material = new THREE.MeshBasicMaterial({ color: 0xffff00 });
  let bullet = new THREE.Mesh(geometry, material);
  bullet.position.copy(player.position);
  bullet.velocity = new THREE.Vector3(0,0,-0.5);
  scene.add(bullet);
  bullets.push(bullet);
}

// Controls
let keys = {};
document.addEventListener("keydown", e => keys[e.key] = true);
document.addEventListener("keyup", e => keys[e.key] = false);
document.addEventListener("click", shootBullet);

function animate() {
  requestAnimationFrame(animate);

  // Player movement
  if (keys["w"]) player.position.y += 0.1;
  if (keys["s"]) player.position.y -= 0.1;
  if (keys["a"]) player.position.x -= 0.1;
  if (keys["d"]) player.position.x += 0.1;

  // Bullets
  bullets.forEach((b, i) => {
    b.position.add(b.velocity);
    if (b.position.z < -50) {
      scene.remove(b);
      bullets.splice(i,1);
    }
  });

  // Enemies
  enemies.forEach((e, i) => {
    e.position.z += 0.05;
    if (e.position.z > 10) {
      scene.remove(e);
      enemies.splice(i,1);
    }
  });

  renderer.render(scene, camera);
}
animate();

// Spawn enemies every 2 seconds
setInterval(spawnEnemy, 2000);
</script>
</body>
</html>
