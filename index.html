<!DOCTYPE html>
<html>
<head>
  <title>FPS Shooter Example</title>
  <style>
    body { margin: 0; overflow: hidden; }
    canvas { display: block; }
  </style>
</head>
<body>
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
<script>
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 500);
const renderer = new THREE.WebGLRenderer();
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

// Floor
const floorGeo = new THREE.PlaneGeometry(200, 200);
const floorMat = new THREE.MeshBasicMaterial({ color: 0x333333, side: THREE.DoubleSide });
const floor = new THREE.Mesh(floorGeo, floorMat);
floor.rotation.x = -Math.PI/2;
scene.add(floor);

// Gun (simple box in front of camera)
const gunGeo = new THREE.BoxGeometry(0.5, 0.5, 2);
const gunMat = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
const gun = new THREE.Mesh(gunGeo, gunMat);
camera.add(gun);
gun.position.set(0.5, -0.5, -2); // offset so it looks like held in hand
scene.add(camera);

// Enemies
let enemies = [];
function spawnEnemy() {
  const geo = new THREE.BoxGeometry(1,1,1);
  const mat = new THREE.MeshBasicMaterial({ color: 0xff0000 });
  const enemy = new THREE.Mesh(geo, mat);
  enemy.position.set(Math.random()*20-10, 0.5, -50);
  scene.add(enemy);
  enemies.push(enemy);
}

// Bullets
let bullets = [];
function shoot() {
  const geo = new THREE.SphereGeometry(0.2, 8, 8);
  const mat = new THREE.MeshBasicMaterial({ color: 0xffff00 });
  const bullet = new THREE.Mesh(geo, mat);
  bullet.position.copy(camera.position);
  const dir = new THREE.Vector3();
  camera.getWorldDirection(dir);
  bullet.velocity = dir.multiplyScalar(1.5);
  scene.add(bullet);
  bullets.push(bullet);
}

// Controls
document.addEventListener("click", shoot);

// Animate
function animate() {
  requestAnimationFrame(animate);

  // Move bullets
  bullets.forEach((b,i) => {
    b.position.add(b.velocity);
    if (b.position.length() > 200) {
      scene.remove(b);
      bullets.splice(i,1);
    }
  });

  // Move enemies
  enemies.forEach((e,i) => {
    e.position.z += 0.05;
    if (e.position.z > 5) {
      scene.remove(e);
      enemies.splice(i,1);
    }
  });

  renderer.render(scene, camera);
}
animate();

// Spawn enemies periodically
setInterval(spawnEnemy, 2000);
</script>
</body>
</html>
